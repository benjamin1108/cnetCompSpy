<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title|default('云网络竞争动态分析') }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        /* 首页特定样式 */
        .subtitle {
            max-width: 700px;
            margin: 15px auto 0;
            line-height: 1.7;
            font-size: 1rem;
        }
        
        header::after {
            content: "";
            position: absolute;
            bottom: -20px;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(to right, rgba(0, 120, 212, 0.2), rgba(0, 178, 148, 0.2));
            clip-path: polygon(0 0, 5% 40%, 10% 0, 15% 60%, 20% 0, 25% 50%, 30% 0, 35% 70%, 40% 0, 45% 40%, 50% 0, 55% 60%, 60% 0, 65% 50%, 70% 0, 75% 70%, 80% 0, 85% 40%, 90% 0, 95% 60%, 100% 0);
            z-index: 1;
        }
        
        .vendor-cards {
            margin-top: 40px;
            position: relative;
        }
        
        /* 背景效果 */
        main::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 10% 20%, rgba(0, 120, 212, 0.03) 0%, transparent 20%),
                        radial-gradient(circle at 90% 80%, rgba(0, 178, 148, 0.03) 0%, transparent 20%);
            pointer-events: none;
            z-index: -1;
        }
        
        /* 厂商卡片动画效果 */
        .vendor-card {
            animation: fadeIn 0.5s ease-out;
            animation-fill-mode: both;
        }
        
        .vendor-card:nth-child(1) { animation-delay: 0.1s; }
        .vendor-card:nth-child(2) { animation-delay: 0.2s; }
        .vendor-card:nth-child(3) { animation-delay: 0.3s; }
        .vendor-card:nth-child(4) { animation-delay: 0.4s; }
        .vendor-card:nth-child(5) { animation-delay: 0.5s; }
        .vendor-card:nth-child(6) { animation-delay: 0.6s; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* 状态指示器 */
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
            background-color: var(--accent-color);
            position: relative;
        }
        
        .status-indicator::after {
            content: "";
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background-color: var(--accent-color);
            opacity: 0.4;
            animation: pulse 2s infinite;
            z-index: -1;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.4; }
            50% { transform: scale(1.5); opacity: 0.2; }
            100% { transform: scale(1); opacity: 0.4; }
        }
        
        section.vendor-list {
            margin-top: 60px;
        }
    </style>
</head>
<body>
    <header>
        <h1>云网络竞争动态分析</h1>
        <p class="subtitle">自动收集、翻译并分析各大云服务提供商的最新技术博客和文档，帮助您洞察市场趋势和技术发展方向。</p>
    </header>

    <main>
        <section class="vendor-list">
            <h2>厂商列表 <span class="status-indicator"></span></h2>
            
            {% if vendors %}
                <div class="vendor-cards">
                    {% for vendor in vendors %}
                        <div class="vendor-card">
                            <h3>
                                <a href="{{ url_for('vendor_page', vendor=vendor.name) }}">
                                    {{ vendor.name|upper }}
                                </a>
                            </h3>
                            <div class="doc-count">
                                <p>文档总数: <strong>{{ vendor.doc_count }}</strong></p>
                                {% if vendor.analysis_count > 0 %}
                                    <p>AI分析文档: <strong>{{ vendor.analysis_count }}</strong> 
                                        <a href="{{ url_for('analysis_page', vendor=vendor.name) }}" class="badge">查看分析</a>
                                    </p>
                                {% endif %}
                                <ul class="doc-types">
                                    {% for type, count in vendor.types.items() %}
                                        {% if count > 0 %}
                                            <li>{{ type }}: {{ count }}</li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="no-data">
                    <p>暂无厂商数据</p>
                    <p class="no-data-subtitle">请先运行爬虫收集数据</p>
                </div>
            {% endif %}
        </section>
    </main>

    <footer>
        <p>&copy; {{ now.year|default('2024') }} 云网络竞争动态分析</p>
    </footer>
</body>
</html> 