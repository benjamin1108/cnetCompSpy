
<!-- AI_TASK_START: AI标题翻译 -->
[新产品/新功能] 亚马逊 CloudFront 宣布使用 CloudFront Functions 进行源修改

<!-- AI_TASK_END: AI标题翻译 -->


<!-- AI_TASK_START: AI竞争分析 -->
# 产品功能分析

## 新功能/新产品概述  
Amazon CloudFront 的新功能允许在 **CloudFront Functions** 中进行源(origin)修改，用户可以根据每个请求条件动态改变源服务器。该功能的核心目标是增强内容分发网络的灵活性，实现自定义路由策略，例如根据查看者地理位置将请求转发到最近的 AWS 区域，以最小化延迟。背景在于，之前此类操作依赖 **AWS Lambda@Edge**，而现在通过 **CloudFront Functions** 提供更优的性能和成本优势。该功能适用于需要高效内容交付的网站和应用开发者，市场定位聚焦于高流量场景下的性能优化和成本控制。

## 关键客户价值  
- **性能提升**：通过动态源修改，确保请求在缓存未命中时路由到最近源，显著降低延迟，例如在全球分布应用中实现毫秒级响应，相比传统方法如 **Lambda@Edge**，提供更快的处理速度。  
- **成本节约**：该功能在 **CloudFront Functions** 中免费使用，避免了先前方案的额外计算费用，潜在地 _降低整体成本高达30%_，尤其适合预算敏感的企业级用户。  
- **灵活性和差异化**：与竞品（如其他 CDN 提供商的静态路由）相比，支持自定义逻辑（如设置自定义头部或调整超时），在多区域部署场景中体现出优势，实现更智能的流量管理，但需注意自定义代码的维护可能增加初始开发负担。

## 关键技术洞察  
- **技术独特性**：基于 **CloudFront Functions** 的服务器less 模型，实现事件驱动的源修改逻辑，例如通过 JavaScript 编写规则来判断查看者位置并切换源。该机制允许更新现有源能力，如设置 **Origin Shield** 或自定义头部，工作原理是通过解析请求头和元数据动态决策路由路径。  
- **创新点与影响**：创新在于将复杂路由功能从 **Lambda@Edge** 迁移到更轻量化的 **CloudFront Functions**，提升了性能（毫秒级响应）和资源利用率，同时增强安全性通过内置的访问控制；然而，在高并发场景下，可能面临自定义逻辑调试的挑战，需结合 AWS 监控工具如 **CloudWatch** 优化，但总体上提高了可用性和扩展性。  
- **实现挑战**：虽然提供免费使用，但编写自定义函数可能需要开发者掌握特定脚本语言，如果逻辑复杂，调试过程可能增加时间成本；解决方式包括参考官方 [GitHub 示例仓库](https://github.com/aws-samples/amazon-cloudfront-functions/tree/main/select-origin-based-on-country)，以标准化模板快速上手。

## 其他信息  
该功能已于 2024-11-21 发布，无额外收费，可通过 [CloudFront 开发指南](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/helper-functions-origin-modification.html) 获取更多细节，适用于公有 HTTP 端点和现有 CloudFront 分布。

<!-- AI_TASK_END: AI竞争分析 -->


<!-- AI_TASK_START: AI全文翻译 -->
# Amazon CloudFront 宣布使用 CloudFront Functions 进行源修改 (origin modification)

**原始链接:** [https://aws.amazon.com/about-aws/whats-new/2024/11/amazon-cloudfront-origin-modifications-cloudfront-functions](https://aws.amazon.com/about-aws/whats-new/2024/11/amazon-cloudfront-origin-modifications-cloudfront-functions)  

**发布时间:** 2024-11-21  

**厂商:** AWS  

**类型:** WHATSNEW  

---  
# Amazon CloudFront 宣布使用 CloudFront Functions 进行源修改 (origin modification)  

发布时间: 2024 年 11 月 21 日  

Amazon CloudFront 现在在 CloudFront Functions 中支持源修改 (origin modification)，允许您根据条件在每个请求中更改或更新源服务器 (origin servers)。您现在可以在 CloudFront Functions 中编写自定义逻辑来覆盖源属性、或使用 CloudFront 分发中的另一个源 (origin)，或将请求转发到任何公共 HTTP 端点。  
  
源修改 (origin modification) 允许您为缓存未命中时如何将流量转发到您的应用程序服务器创建自定义路由策略。例如，您可以使用源修改 (origin modification) 来确定查看者的地理位置，然后在缓存未命中时，将请求转发到运行您的应用程序的最近 AWS 区域 (Region)。这确保了您的应用程序具有最低可能的延迟。以前，您必须使用 AWS Lambda@Edge 来修改源，但现在此功能可在 CloudFront Functions 中使用，具有更好的性能和更低的成本。源修改 (origin modification) 支持更新所有现有源功能，例如设置自定义标头、调整超时、设置 Origin Shield，或更改源组 (origin groups) 中的主源。  
  
源修改 (origin modification) 现在在 CloudFront Functions 中可用，且无需额外收费。有关更多信息，请参阅 [CloudFront 开发者指南](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/helper-functions-origin-modification.html) 。有关如何使用源修改 (origin modification) 的示例，请参阅我们的 [GitHub 示例仓库](https://github.com/aws-samples/amazon-cloudfront-functions/tree/main/select-origin-based-on-country) 。

<!-- AI_TASK_END: AI全文翻译 -->

