
<!-- AI_TASK_START: AI标题翻译 -->
[解决方案] 联合航空使用 AWS 实施全企业范围的弹性程序

<!-- AI_TASK_END: AI标题翻译 -->


<!-- AI_TASK_START: AI竞争分析 -->
# 解决方案分析

## 解决方案概述  
United Airlines 通过 AWS 构建了 Rapid Recovery 解决方案，以实现企业级弹性程序的核心目标：确保关键应用的 100% 可用性，并降低恢复时间目标（**RTO**）。该方案针对航空业数字化转型中的挑战，如应用现代化和多区域部署，提供了一个灵活、可重复的平台。背景源于 United Airlines 的 United Next 计划，该计划旨在提升网络和客户体验，但面临手动故障转移的效率低下和错误风险。在云计算趋势下，该解决方案适用于高可用性需求强烈的行业，如航空和金融，解决传统单区域架构的单点故障问题，通过自动化故障转移提升整体架构的灵活性。

## 实施步骤  
1. **需求识别和规划**：EA 团队评估现有架构，识别手动故障转移的痛点，如复杂运行手册和人为干预风险。理由是确保业务连续性（**BCDR**），通过自动化减少人为错误；技术原理基于 AWS 多区域部署，逻辑上先定义 RTO 和恢复点目标（**RPO**），再设计平台框架。  
2. **平台开发和 rollout**：在 2023 年 4 月开始，由五人团队在六个月内构建 Rapid Recovery 平台，包括使用 **Amazon Application Recovery Controller (ARC)** 自动化流量切换和数据库故障转移。步骤间衔接通过 **AWS Step Functions** 和 **Amazon EventBridge** 实现事件驱动，确保从检测到执行的无缝过渡；技术细节涉及创建标准化模板和监控仪表板，以支持可扩展性。  
3. **应用 onboarding 和测试**：为应用提供详细指导，进行 **Well-Architected Review**，并要求在生产前执行全应用故障转移演练。理由是验证运行手册和团队能力；技术原理包括整合 **Route 53** 进行 DNS 端点切换，并使用混沌工程测试组件级故障。  
4. **持续优化和监控**：实施 Application Reliability Dashboard (ARD) 捕获信号，提供企业级可见性。逻辑上连接到成本优化，如资源共享，保障长期可行性。

## 方案客户价值  
- **提升业务连续性**：通过自动化故障转移显著降低 **RTO**，实现了超过 1,000 次成功的跨区域故障转移，帮助 United Airlines 在服务中断时快速恢复，避免潜在收入损失；相比传统手动过程，该方案减少了人为错误，提高了效率。  
- **量化收益和成本效益**：实现了 _7% MTTR 降低_ 和 _5% NPS 提升_，这些收益通过共享 **ARC** 集群和资源优化机制实现，相比传统 IaaS 架构，显著降低了运维成本，但需平衡多区域部署的额外开销。  
- **灵活性和风险管理**：支持多种场景如事件恢复和计划故障转移，提供标准化监控仪表板，确保领导层和应用团队的实时洞察；在突发流量场景中，自动通知和自定义工作流增强了响应能力，但可能在大规模组网时增加管理复杂度。

## 涉及的相关产品  
- **Amazon Application Recovery Controller (ARC)**：用于自动化应用流量切换和故障转移，提供跨区域恢复洞察，在方案中核心作用是减少手动干预。  
- **Route 53**：处理 DNS 端点切换，确保流量无缝路由；其作用在于提升故障转移的可靠性。  
- **AWS Step Functions 和 Amazon EventBridge**：构建工作流和事件驱动架构，支持自动化通知和执行跟踪；结合 **AWS Lambda** 实现自定义逻辑，优化整体流程。  
- **Amazon Aurora 和 DocumentDB**：作为数据库服务，支持自动故障转移；在方案中确保数据一致性和高可用性。  
- **CloudWatch 和 ARD 仪表板**：提供监控和可靠性评分，支持动态调整和企业级可见性。

## 技术评估  
Rapid Recovery 解决方案在技术先进性上表现出色，通过 **ARC** 和事件驱动架构实现了自动化恢复，显著提高了多区域部署的可行性，适用于高可用性需求的应用场景。其优势在于灵活的用例支持（如混沌测试和计划故障转移），以及与 AWS 服务集成的可扩展性，能够在复杂环境中降低 **RTO** 并提升系统韧性。然而，可能的局限性包括初始开发和测试的资源需求，以及在非标准化应用中面临自定义挑战；在成本优化方面，虽然通过资源共享实现了经济性，但大规模扩展时需关注潜在的复杂度和数据同步延迟问题，相比 Google Cloud 的类似方案，AWS 版本更注重企业级治理，但可能在全球覆盖性上稍逊一筹。

<!-- AI_TASK_END: AI竞争分析 -->


<!-- AI_TASK_START: AI全文翻译 -->
# 美国联合航空公司使用 AWS 实施企业级弹性程序

**原始链接:** [https://aws.amazon.com/blogs/networking-and-content-delivery/united-airlines-implement-enterprise-wide-resilience-program-with-aws/](https://aws.amazon.com/blogs/networking-and-content-delivery/united-airlines-implement-enterprise-wide-resilience-program-with-aws/)

**发布时间:** 2025-05-09

**厂商:** AWS

**类型:** BLOG

---
*本博客由**Jenny Zhou**（美国联合航空公司的首席企业架构师）共同撰写*

在本博客中，我们将探讨美国联合航空公司如何使用 Amazon Web Services (AWS) 实施企业级弹性程序。

美国联合航空公司是一家总部位于伊利诺斯州芝加哥的主要美国航空公司，在 2021 年公布了 [United Next 计划](https://united.mediaroom.com/2021-06-29-United-Adds-270-Boeing-and-Airbus-Aircraft-to-Fleet,-Largest-Order-in-Airlines-History-and-Biggest-by-a-Single-Carrier-in-a-Decade)。United Next 是该航空公司旨在改善其网络并提升客户体验的计划。随着公司将数百个应用程序迁移到 AWS 并现代化其关键数字系统，它必须确保这些业务关键应用程序的 100% 可用性。

为了满足更低的 [恢复时间目标 (RTO)](https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/business-continuity-plan-bcp.html#recovery-objectives-rto-and-rpo)，应用程序团队开始设计多区域 (Region) 应用程序架构。美国联合航空公司团队识别出需要一个灵活、可重复且强大的平台，能够快速扩展。随着应用程序团队在 AWS 上进行现代化，美国联合航空公司的平台工程、数据库管理 (DBA) 以及应用程序团队管理复杂且耗时的故障转移运行手册和流程。这些流程通常依赖于需要人工干预的手动故障转移，效率低下且容易出错，可能导致停机并中断关键业务服务。

为了应对这些挑战，美国联合航空公司领导层委托企业架构 (EA) 团队构建一个更强大、可重复且自动化的解决方案。

## **快速恢复解决方案**

在 2023 年 4 月，EA 团队开始推出快速恢复 (Rapid Recovery) 解决方案。快速恢复是一个中央平台，旨在为托管在 AWS 上的关键应用程序启用快速跨区域恢复功能。该平台自动化常见的恢复步骤，例如 1. 使用 [Amazon Application Recovery Controller (ARC)](https://aws.amazon.com/application-recovery-controller/) 切换应用程序之间的区域，2. 自动化数据库故障转移任务，如将辅助 DB 集群提升为主 DB 集群，以及 3. 提供模板来创建可观测性仪表板。快速恢复旨在提供比单个 AWS 区域的高可用性更增强的 [业务连续性和灾难恢复 (BCDR)](https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/business-continuity-plan-bcp.html) 保护。到目前为止，已有 70 多个运行在 AWS 上的业务关键服务使用此平台。

![图 1: Rapid Recovery 解决方案的架构。它展示了从授权管理员通过监控工具、中央弹性 AWS 账户和应用程序 AWS 账户的流程，包括应用程序和数据库故障转移、事件总线、步进函数用于通知和故障转移，以及连接到各种团队和 AWS 服务如 DocumentDB 和 Aurora。该系统整合了混沌工程和恢复仪表板组件。](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/04/22/Picture1-10.png)

*图 1: Rapid Recovery 解决方案的架构*

一个由五人组成的小团队在不到六个月内构建了快速恢复解决方案。

上述架构具有以下关键特性：

  1. **自动化恢复**：快速恢复使用 [Amazon Application Recovery Controller (ARC)](https://docs.aws.amazon.com/r53recovery/latest/dg/what-is-route53-recovery.html) 自动化常见的恢复步骤，以切换应用程序流量路由，并触发 [托管](https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-global-database-disaster-recovery.html) 数据库的故障转移和切换，包括使用 [Route 53](https://aws.amazon.com/route53/) 更改自定义 DNS 端点。通过使用 ARC，快速恢复获得 [洞察](https://docs.aws.amazon.com/r53recovery/latest/dg/recovery-readiness.html)，了解资源是否在故障转移区域准备就绪，并触发跨多个 AWS 区域的应用程序故障转移。
  2. **灵活使用场景**：该平台支持各种企业用例，包括：
     1. 事件恢复
     2. 主要应用程序版本发布或升级
     3. 组件级混沌测试
     4. 预定故障转移
     5. 由警报触发的完全自动化故障转移（较少见但支持）
  3. **易用工作流**：使用自定义工作流，授权团队成员可以通过简单的工作流界面启动故障转移。[见下文图 3]
  4. **全面监控**：该解决方案提供标准监控仪表板，与 AWS 服务如 [Step Functions](https://docs.aws.amazon.com/step-functions/latest/dg/welcome.html)、[AWS Lambda](https://docs.aws.amazon.com/lambda/latest/dg/welcome.html) 和 [Amazon EventBridge](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-what-is.html) 集成，用于详细执行跟踪。该仪表板为美国联合航空公司领导层提供企业级视图，并为单个应用程序所有者提供每个应用程序视图。[见下文图 2]
  5. **自动化通知**：支持团队在故障转移过程中接收电子邮件通知，确保清晰的沟通和协调。
  6. **可定制**：虽然提供标准化基础，但快速恢复允许应用程序团队根据特定需求自定义平台。

![图 2: 企业级仪表板，包含故障转移历史](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/05/04/Figure2-1.png)

![图 2: 企业级仪表板，包含故障转移历史](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/05/04/Figure2-1-1.png)

*图 2: 企业级仪表板，包含故障转移历史*

实施自动化使美国联合航空公司加速恢复过程，并在服务受损时降低 RTO。

除了提供快速恢复外，EA 团队还标准化了应用程序上架过程，通过提供灾难恢复设计详细指南、执行 [Well-Architected 审查](https://docs.aws.amazon.com/wellarchitected/latest/framework/the-review-process.html) 以及帮助提供入门工具包（文档和代码），包括标准应用程序架构模式的示例运行手册。这些运行手册概述了准备步骤、恢复流程和故障转移后测试要求。

在应用程序迁移到生产环境前，应用程序团队需要执行完整的应用程序故障转移演练到另一个区域。此强制步骤验证了故障转移运行手册并增强了团队执行故障转移的能力。EA 团队领导与应用程序团队的会议，提供指导和培训以确保该举措成功。

## **恢复过程**

美国联合航空公司的大多数应用程序架构依赖于人工干预来触发跨区域故障转移过程。在区域之间切换通常涉及 deliberate 的人工评估和决策。这种方法优先考虑基于可观测性信号的人工监督和控制，而不是自动化故障转移机制。这种人为参与方法确保在执行区域故障转移前仔细考虑潜在影响，在系统弹性与操作控制之间保持平衡。

美国联合航空公司拥有完善的事件管理过程来处理关键服务中断。该过程包括事件管理团队、应用程序所有者和高级领导，以评估影响并定义后续步骤。

故障转移过程

  1. **事件检测**：可观测性工具检测到关键业务服务的受损；启动事件通话。
  2. **评估**：在通话中，业务领导、应用程序所有者和操作团队评估情况和对业务的影响。他们还确定是否需要故障转移来快速缓解负面影响，从而为应用程序团队提供时间来查找根本原因。
  3. **决策**：团队可能选择故障转移特定组件，如服务层或 AWS 服务如数据库。
  4. **执行**：授权的应用程序所有者使用自定义工作流启动和管理故障转移过程。

![图 3: 提供给应用程序团队的工作流界面](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/04/22/Picture4-7.png)

*图 3: 提供给应用程序团队的工作流界面*

## **大规模弹性**

弹性是一个持续过程。定期评估和练习灾难恢复计划对于确保其有效性和在需要时构建实施信心至关重要。

为了了解其企业级弹性态势，美国联合航空公司决定将自动化和手动过程信号（包括 [故障模式监控](https://docs.aws.amazon.com/prescriptive-guidance/latest/resilience-analysis-framework/observability.html)）捕获并监控到一个名为应用程序可靠性仪表板 (ARD) 的操作仪表板中。ARD 是一个自定义应用程序，配备专用软件开发团队。其目标是通过确保应用程序满足高质量和可靠性标准来提升客户满意度。

ARD 作为应用程序健康和可靠性的全面概述。它提供了一个统一界面，其中每个应用程序服务被分配一个弹性分数，目标通过标准设置为 80% 或更高。该可靠性分数基于美国联合航空公司特定指标计算，并由 Gartner（领先的研究和咨询公司）审查和认可。该评分模型基于定制的服务可靠性工程框架，专门针对美国联合航空公司的独特需求和要求。

![图 4: 可靠性分数指标](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/04/22/Picture6-5.png)

图 4: 可靠性分数指标

ARD 提供三个主要功能：

  1. **测量**：它量化美国联合航空公司应用程序的可靠性、生产就绪性和整体健康。
  2. **可见性**：ARD 提供对明确定义的关键指标的清晰洞察。
  3. **进度跟踪**：它允许应用程序团队监控改进和变化。

通过关注这些领域，ARD 使应用程序团队能够交付可靠（一致地按预期性能）、稳定（抵抗意外故障或停机）和高性能（高效且响应迅速）的服务。

![应用程序可靠性就绪仪表板](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/05/04/Figure-5.png)

图 5: ARD 仪表板视图

## **成本优化举措**

追求更短的恢复时间目标 (RTO) 和恢复点目标 (RPO) 通常会导致资源分配和操作复杂性的成本增加。因此，建议为特定工作负载选择在恢复能力和成本效益之间取得最佳平衡的 RTO 和 RPO 目标。

当美国联合航空公司的应用程序团队最初探索多区域部署时，他们的主要担忧是应用程序成本可能翻倍。为了缓解这一担忧，选择最合适的 [灾难恢复 (DR) 策略](https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/disaster-recovery-options-in-the-cloud.html) 对于每个应用程序至关重要，因为这在管理整体应用程序成本中发挥关键作用。

为了进一步保持成本效益，美国联合航空公司实施了：

  1. **资源优化**：美国联合航空公司通过 [共享](https://docs.aws.amazon.com/r53recovery/latest/dg/routing-control.failover-different-accounts.html) Amazon Application Recovery Controller 跨多个 AWS 账户实现成本效益策略。将集群跨 AWS 账户共享的一个关键优势是，您可以将运行单个集群的总成本分散到多个团队。通过采用此策略，美国联合航空公司减少了所需集群的总体数量，从而更经济地实现应用程序弹性。

![图 6: 使用 AWS RAM 共享 Application Recovery Controller 集群](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/05/04/Figure-6.png)

图 6: 使用 AWS RAM 共享 Application Recovery Controller 集群

  2. **实时成本跟踪**：应用程序团队可以访问 [Harness Cloud Cost Management](https://www.harness.io/products/cloud-cost-management) 仪表板用于监控成本。
  3. **FinOps 黑客马拉松**：定期举办黑客马拉松式活动，以基准测试应用程序性能并识别新的成本节约机会。
  4. **黑客马拉松输出整合**：将 FinOps 黑客马拉松的成本优化技术扩展并整合到可重复的部署管道中，由所有团队利用。

## **总结**

美国联合航空公司通过在 AWS 上实施全面的企业级程序提升了其操作弹性。这些举措增强了该航空公司关键应用程序的可靠性。到目前为止，该程序取得了令人印象深刻的结果，包括超过 1,000 次成功的跨区域应用程序故障转移和超过 400 次自动数据库故障转移。该航空公司还在 2024 年实现了显著的 7% MTTR 降低，从而导致 2024 年第三季度与 2023 年相比 NPS 增加了 5%。这些成就突显了美国联合航空公司对稳健、无中断服务交付的承诺，并说明了其基于云的弹性策略的有效性。

## **进一步阅读**

[AWS Well-Architected 框架 – 可靠性支柱](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/welcome.html)  
[AWS 多区域基础白皮书](https://docs.aws.amazon.com/prescriptive-guidance/latest/aws-multi-region-fundamentals/introduction.html)  
[在 AWS 上的灾难恢复 (DR) 架构，架构博客系列](https://aws.amazon.com/blogs/architecture/tag/disaster-recovery-series/)  
[AWS 云弹性](https://aws.amazon.com/resilience/)  
[AWS 多区域功能](https://repost.aws/articles/AR02pJIdoARYKX6Rhkdra-Zg/aws-multi-region-capabilities)

## 关于作者

![Hemal Jani 头像](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/05/08/Hemal-headshot.jpg)

### Hemal Jani

Hemal Jani 是 Amazon Web Services (AWS) 的解决方案架构师，位于伊利诺斯州芝加哥。他的重点领域是企业迁移和弹性。他拥有 20 多年技术领导经验，目前与旅行和酒店业客户合作。

![Jenny Zhou 头像](https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2025/05/08/Jenny-headshot.jpg)

### Jenny Zhou

Jenny Zhou 是位于芝加哥的美国联合航空公司首席企业架构师。她拥有 20 多年航空业经验和 10 多年领导企业架构举措的经验。专长于应用程序架构、云迁移和弹性以及企业治理。

<!-- AI_TASK_END: AI全文翻译 -->

