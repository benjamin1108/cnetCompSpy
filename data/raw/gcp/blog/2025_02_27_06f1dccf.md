# Inter-VPC connectivity architecture patterns in Cross-Cloud Network

**原始链接:** [https://cloud.google.com/blog/products/networking/inter-network-communication-design-with-ncc-vpc-peering](https://cloud.google.com/blog/products/networking/inter-network-communication-design-with-ncc-vpc-peering)

**发布时间:** 2025-02-27

**厂商:** GCP

**类型:** BLOG

---
Networking

# 

Inter-VPC connectivity architecture patterns in Cross-Cloud Network

February 27, 2025

  

![https://storage.googleapis.com/gweb-cloudblog-publish/images/0-hero.max-2500x2500.png](https://storage.googleapis.com/gweb-cloudblog-publish/images/0-hero.max-2500x2500.png)

##### Ammett Williams

Developer Relations Engineer

##### Mark Schlagenhauf

Technical Writer

##### Google Cloud Next

On-demand access to Next’s top highlights.

[Watch now](https://cloud.withgoogle.com/next/25?utm_source=cgc-blog&utm_medium=blog&utm_campaign=FY25-Q2-global-EXP106-physicalevent-er-next25-mc&utm_content=cgc-blog-left-hand-rail-post-next&utm_term=-)

Connecting hybrid environments to the cloud is a very important aspect of cloud architecture. In addition to connecting from on-premises environments, you also have multicloud environments that all need to communicate. In this blog we will look at some reference architectures for hub-and-spoke communication using [Cross-Cloud Network](https://cloud.google.com/solutions/cross-cloud-network?hl=en).

## **The power of Cross-Cloud Network**

As your cloud projects grow and you add additional networks, you need inter-network communication. Cross-Cloud Network provides a set of functionality and architectures for any-to-any connectivity leveraging Google’s software-defined global scaled backbone to connect your distributed applications.

Let’s look at two architectural patterns: one based on [VPC Network Peering](https://cloud.google.com/vpc/docs/vpc-peering), and the other on [Network Connectivity Center](https://cloud.google.com/network-connectivity/docs/network-connectivity-center/concepts/overview).

### **#1 - Inter-VPC communication with VPC Network Peering example pattern**

To understand how to think about designing your network, let's look at the flow of a packet from an **external network** to an application located in **workload VPC network 1** located in Google Cloud. This design is focused on the use of VPC Network Peering. The network is composed of an **external network**(on-prem and other clouds), and the **Google Cloud network**(transit VPC, services access VPC, managed services VPC, workloads VPC).

![https://storage.googleapis.com/gweb-cloudblog-publish/images/1-ccn-vnp-vpn-flows.max-2000x2000.png](https://storage.googleapis.com/gweb-cloudblog-publish/images/1-ccn-vnp-vpn-flows.max-2000x2000.png)

This design uses the following services for its end-to-end solution:

  * **Cloud Interconnect** ([Direct](https://cloud.google.com/network-connectivity/docs/interconnect/concepts/dedicated-overview), [Partner](https://cloud.google.com/network-connectivity/docs/interconnect/concepts/partner-overview), [Cross-Cloud](https://cloud.google.com/network-connectivity/docs/interconnect/concepts/cci-overview)) - To connect connect from your on-prem or other clouds to the transit VPC

  * [Cloud VPN](https://cloud.google.com/network-connectivity/docs/vpn/concepts/topologies) \- To connect from service-access VPC to transit VPC and export custom routes from private services access network

  * **VPC Network Peering** \- To connect from workload VPC to transit VPC

  * [Private services access](https://cloud.google.com/vpc/docs/private-services-access) \- To connect to managed services privately in the services access VPC

  * [Private Service Connect](https://cloud.google.com/vpc/docs/private-service-connect) \- To expose services in the managed services VPC network to be consumed in the services access VPC

  * [Network Connectivity Center VPC spokes](https://cloud.google.com/network-connectivity/docs/network-connectivity-center/concepts/vpc-spokes-overview#vpc-spokes)**** \- To allow communication between workload VPCs if necessary

To understand more specific details like route exchange and packet flow, please read the full architecture document reference guide: [Cross-Cloud Network inter-VPC connectivity using VPC Network Peering](https://cloud.google.com/architecture/ccn-distributed-apps-design/ccn-vnp-vpn-ra).

### **#2 - Inter-VPC communication with Network Connectivity Center**

In this more modern design, we use Network Connectivity Center with a star configuration and interconnect spokes. To understand how to think about designing your network in this configuration, let's look at the flow of a packet from an **external network** to an application located in the **workload VPC 1.**

The network consists of an **external network**(on-prem and other clouds), and the **Google Cloud network**(transit VPC, service access VPC, managed services VPC, Private Service Connect consumer VPC, and workload VPC).

![https://storage.googleapis.com/gweb-cloudblog-publish/images/2-flows.max-2000x2000.png](https://storage.googleapis.com/gweb-cloudblog-publish/images/2-flows.max-2000x2000.png)

This design uses the following services to provide an end-to-end solution.

  * **Cloud Interconnect** (Direct, Partner, Cross-Cloud) - To connect from your on-prem or other clouds to the transit VPC. In this case multiple external locations are connecting in different regions.

  * **Cloud VPN** \- To connect from service access VPC to transit VPC and export custom routes from private services access network

  * **VPC Network Peering** \- To connect from workload VPC to transit VPC

  * **Private services access** \- To connect to managed services privately in the services access VPC

  * **Private Service Connect** \- To expose services in the managed services VPC network to be consumed in the services access VPC and Private Service Connect consumer VPC with endpoints to service made available to connected peers.

  * **Network Connectivity Center VPC spokes** \- To allow communication between workload VPCs if necessary

  * **Network Connectivity Center topology** \- Utilizes preset topologies (choose [mesh](https://cloud.google.com/network-connectivity/docs/network-connectivity-center/concepts/vpc-spokes-overview#mesh-topology) or [star](https://cloud.google.com/network-connectivity/docs/network-connectivity-center/concepts/vpc-spokes-overview#star-topology) depending on your requirements)

To understand the specific details such as the Network Connectivity Center star topology, route exchange and packet flow, please read the full architecture document reference guide: [Cross-Cloud Network inter-VPC connectivity using Network Connectivity Center](https://cloud.google.com/architecture/ccn-distributed-apps-design/ccn-ncc-vpn-ra). 

![https://storage.googleapis.com/gweb-cloudblog-publish/images/3-ncc-details.max-2000x2000.png](https://storage.googleapis.com/gweb-cloudblog-publish/images/3-ncc-details.max-2000x2000.png)

### **Next steps**

Take a deeper dive into network migration support and Cross-Cloud Network.

  * Document: [Cross-Cloud Network for distributed applications](https://cloud.google.com/architecture/ccn-distributed-apps-design)

  * Document: [Designing networks for migrating enterprise workloads: Architectural approaches](https://cloud.google.com/architecture/network-architecture)

Want to ask a question, find out more or share a thought? Please connect with me on [Linkedin](https://www.linkedin.com/in/ammett/). 



Posted in

  * [Networking](https://cloud.google.com/blog/products/networking)
  * [Developers & Practitioners](https://cloud.google.com/blog/topics/developers-practitioners)